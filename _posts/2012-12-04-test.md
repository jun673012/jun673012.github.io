---
layout: post
title: Data Structure 3
subtitle: test
share-img: /assets/img/path.jpg
tags: [C, DataStructure]
---

### 1.   배열

- 배열(array)의 개념

기본이 되는 중요한 자료형으로 거의 모든 프로그래밍 언어에서 기본적으로 제공되는 데이터 타입

많은 자료 구조들이 배열을 사용하여 구현됨

대량의 데이터를 저장하기 위해 여러 개의 개별 변수를 사용하는것은 매번 다른 이름으로 접근을 해야 하므로 많은 불편이 있음

배열을 사용하면 "연속적인 메모리 공간"이 할당되고 인덱스(Index) 번호를 사용하여 쉽게 접근이 가능

반복루프를 이용하여 여러 작업을 손쉽게 할 수 있음

- 배열 ADT

배열은 <인덱스, 값>의 쌍으로 이루어진 집합으로 정의할 수 있음

인덱스(Index)가 주어지면 값(Value)이 대응되는 자료 구조

Array

객체: <인덱스, 값> 쌍의 집합

연산:

- creat(size): size개의 요소를 저장할 수 있는 배열 생성
- get(A, i): 배열 A의 i번째 요소 반환
- set(A, i, v): 배열 A의 i번쨰 위치에 값 v 저장

get 함수는 배열과 인덱스를 받음

그 인덱스가 유효하다면 인덱스 위치의 값을 반환

인덱스가 유효하지 않다면 오류를 반환

set 함수는 배열, 인덱스, 값을 받아서 새로운 인덱스 위치에 값을 저장

- C언어에서의 1차원 배열

|--------|--------|--------|--------|--------|--------|
| list[0] | list[1] | list[2] | list[3] | list[4] | list[5] |

배열은 변수 이름 끝에 [ ] 을 추가 하여 선언

[ ] 안의 숫자는 배열의 크기

[ ] 연산자를 사용해서 원하는 인덱스에서 값을 가져오거나 저장할 수 있음

C에서 배열의 인덱스는 0부터 시작

컴파일러의 배열은 배열에 메모리의 연속된 위치에 할당

첫번째 배열요소의 주소가 기본주소가 되고 다른 요소들은 다음처럼 됨

배열의 요소 메모리주소

|---------|---------|

| list[0] | 기본주소=base |

| list[1] | base + 1 * sizeof()int |

| list[2] | base + 2 * sizeof()int |

| list[3] | base + 3 * sizeof()int |

| list[4] | base + 4 * sizeof()int |

| list[5] | base + 5 * sizeof()int |

프로그램에서 list[i]라고 적으면 컴파일러는 주소 base + 1 * sizeof()int에 있는 값을 가져옴

- 2차원 배열

2차원 배열은 요소들이 2차원 형태로 나열된 배열

가로줄은 행(row), 세로줄은 열(column)

C언어에서 2차원 배열은 다음과 같이 선언

int list[3][5];

| 0열 | 1열 | 2열 | 3열 | 4열 |

|--------|--------|--------|--------|--------|

| 0행 | list[0][0] | list[0][1] | list[0][2] | list[0][3] | list[0][4] | ← list[0]

| 1행 | list[1][0] | list[1][1] | list[1][2] | list[1][3] | list[1][4] | ← list[1]

| 2행 | list[2][0] | list[2][1] | list[2][2] | list[2][3] | list[2][4] | ← list[2]

### 2.   구조체

- 구조체의 개념

배열- 타입이 같은 데이터의 모음

구조체(structure)- 타입이 다른 데이터의 모임

C언어에서는 struct 키워드 이용하여 표기

| 배열 | 구조체 |

|--------|--------|

| ■■ | ■○ |

구조체 형식 정의

struct 구조체이름 {

항목1;

항목2;

...

};

구조체의 형식이 정의되었을때 구조체 변수 생성

struct 구조체이름 구조체변수;

구조체이름을 구조체 태그(tag) 라 하고 구조체와 구조채를 구별할 수 있게 해줌

구조체 안에 있는 멤버 사용법

구초제 변수 뒤에 '.'을 첨가후 항목 이름 적으면 됨

'.'을 멤버연산자(membership operator)라고 함

C언어에서 typedef을 사용해서 구조체를 새로운 타입으로 선언할 수 있음

typedef 구조체이름 {

char 구조체변수[0];  문자배열로 된 변수

int 구조체변수;   정수를 나타내는 정수값

double 구조체변수;  실수를 나타내는 실수값

} 새로운 데이터 타입의 이름

구조체는 중괄호를 사용해서 선언 시에 초기화할 수 있음

새로운 데이터 타입 구조체변수 = {"자료 구조", 12, 5.6};

### 3.   포인터

- 포인터의 개념

포인터(pointer) - 다른 변수의 주소를 가지고 있는 변수

모든 변수는 메모리 공간에 저장되고 메모리의 각 바이트에는 주소가 매겨져있음

이 주소가 포인터에 저장됨

                  주소26

                ↓

26         100

포인터 p → 변수 a

int a = 100;

int *p;

p = &a;

- 포인터와 관련된 연산자
    - & 연산자 - 주소 연산자
    - * 연산자 - 간점참조 연산자 (역참조 연산자)

& 연산자는 변수의 주소를 추출하는 연산자

앞에서 선언한 포인터가 특정한 변수를 가리키게 하려면 변수의 주소를 & 연산자로 추출하여 대입

int a; 정수형 변수

p = &a; 변수의 주소를 포인터에 저장

*연산자는 포인터가 가리키는 장소에 값을 저장하는 연산자

*p= 200;

- 다양한 포인터

포인터는 여러가지 자료형에 대해 선언될 수 있음

int *p; int형 변수를 가리키는 포인터

float *pf; float형 변수를 가리키는 포인터

char *pc; int char형 변수를 가리키는 포인터

- 널 포인터

널 포인터는 어떤 객체도 가리키지 않는 포인터

포인터를 사용하기 전에는 반드시 널 포인터인지 검사해야함

잘못된 포인터를 가지고 메모리를 변경하는 것은 치명적인 결과를 가져올 수 있기 때문

널 포인터를 가지고 간접참조하려면 컴퓨터 시스템에서 오류가 발생되어 쉽게 알 수 있음

- 함수 매개변수로 포인터 사용하기

포인터는 함수의 매개변수로 전달될 수 있음

특정한 변수를 가리키는 포인터가 함수의 매개변수로 전달되면 그 포인터를 이용하여 함수 안에서 외부 변수의 값을 변경할 수 있음

tmp = *px;

*px = *py;

*py = tmp;

- 배열과 포인터
- 함수로 배열이 전달되면 함수 안에서 배열의 내용을 변경할 수 있음
    - 배열의 이름이 배열의 시작위치를 가리키는 포인터이기 때문

### 4.   동적 메모리 할당

일반적인 배열은 크기가 고정되어 있음

고정된 크기 때문에 많은 문제가 발생함

이를 해결하기 위해 C언어에서는 필요한 만큼의 메모리를 운영체제로부터 할당받아서 사용하고, 사용이 끝나면 시스템에 메모리를 반납하는 기능이 있음

이것을 동적 메모리 할당(Dynamic Memory Allocation) 이라 함

동적 메모리가 할당되는 공간을 히프(Heap)라고 함

히프는 운영체제가 사용되지 않는 메모리 공간을 모아 놓은곳

필요한 만큼만 할당받고, 필요할 때에 사용하고 반납하기 때문에 메모리는 매우 효율적으로 사용할 수 있음

int *p;

p = (int *)malloc(sizeof(int)); 1. 동적 메모리 할당

*p = 1000; 2. 동적 메모리 사용

free(p); 3. 동적 메모리 반납

1. malloc() 함수는 size 바이트 만큼의 메모리 블록을 할당함

sizeof 키워드는 변수가 타입의 크기를 숫자로 반환함

크기의 단위는 바이트임

sizeof(int)는 int형의 크기를 반환함

malloc()은 동적 메모리 블럭의 시작 주소를 반환함

반환되는 주소의 타입은 void *이므로 적절한 포인터로 형변환시켜야 함

메모리 확보가 불가능하면 NULL을 함수의 반환값으로 반환함

2. 동적 메모리는 포인터로만 사용할 수 있음

*p는 p가 가리키는 장소임

*p=1000; 문장을 실행하면 p가 가리키는 장소에 1000이 저장됨

3. free() 함수는 할당된 메모리 블럭을 운영체제에서 반환함

 주의 - malloc() 함수가 반환했던 포인터 값을 잊어버리면 안됨

포인터값을 잊어버리면 동적 메모리를 반환할 수 없음

malloc()은 시스템 메모리가 부족해서 요구된 메모리를 할당할 수 없으면 NULL을 반환함

따라서 malloc()의 반환값은 항항 NULL인지 검사해야함

- 구조체와 포인터

포인터를 통해서 구조체의 멤버에 접근하는 표기법 "→"

ps가 구조체를 가리키는 포인터라 할 때, (*ps).i 보다 ps→i 라고 쓰는 것이 더 편리함

자료 구조에서 구조체에 대한 포인터도 함수의 매개변수로 전달됨

구조체 자체를 함수로 전달하는 경우, 구조체가 함수로 복사되어 전달되기 떄문에, 큰 구조체의 경우 구조체 포인터를 전달하는 것이 좋음
